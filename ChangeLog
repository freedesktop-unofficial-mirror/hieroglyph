2010-05-29  Akira TAGOH  <akira@tagoh.org>

	* hieroglyph/hgquark.h: new.

2010-05-27  Akira TAGOH  <akira@tagoh.org>

	* tests/hgname.c: add testcases.

	* hieroglyph/hgname.c (_hg_object_name_new): Fix a typo.

	* hieroglyph/hgobject.c (_hg_object_new): add the object type to
	the quark.
	(hg_object_init): add the name object vtable.
	(hg_object_init): initialize the encodings.

	* hieroglyph/hgmem.c (hg_mem_free): get rid of the unnecessary bits.
	(hg_mem_lock_object): likewise.
	(hg_mem_unlock_object): likewise.

	* tests/hgnull.c: add testcases.

	* tests/hgmark.c: add testcases.

	* hieroglyph/hgnull.h (hg_object_null_new): new macro.

	* hieroglyph/hgmark.h (hg_object_mark_new): new macro.

	* tests/hgint.c: add testcases.

	* hieroglyph/hgint.h (hg_object_int_new): new macro.

	* tests/hgbool.c: add testcases.

	* hieroglyph/hgtypes.h (Qnil): correct a typo.

	* hieroglyph/hgbool.h (hg_object_bool_new): new macro.

	* hieroglyph/hgallocator.c (_hg_allocator_initialize_and_lock_object):
	Fix wrong casting.

	* tests/hgencoding.c: add testcases.

	* hieroglyph/hgencoding.c (hg_encoding_lookup_system_encoding): 
	add more sanity check.

	* hieroglyph/hgname.[ch]: new.

	* hieroglyph/hgobject.c (hg_object_new): API change to make this
	comfortable for others.

	* hieroglyph/hgencoding.[ch]: new.

	* hieroglyph/hgtypes.h: add hg_system_encoding_t type.

2010-05-26  Akira TAGOH  <akira@tagoh.org>

	* hieroglyph/hgobject.c (hg_object_new): align the preallocated size.
	(hg_object_init): add missing the object vtables initialization.

2010-05-25  Akira TAGOH  <akira@tagoh.org>

	* hieroglyph/hgobject.h (HG_DEFINE_VTABLE): add new macro.

	* hieroglyph/hgnull.[ch]: new.

	* hieroglyph/hgmark.[ch]: new.

	* hieroglyph/hgbool.[ch]: new.

	* hieroglyph/hgint.[ch]: new.

	* hieroglyph/hgobject.[ch]: new.

	* hieroglyph/hgallocator.c: get rid of the unnecessary error check.

	* hieroglyph/hgallocator-private.h (hg_get_allocated_object):
	new macro.
	(hg_get_allocator_block): new macro.

2010-05-24  Akira TAGOH  <akira@tagoh.org>

	* hieroglyph/hgallocator.c (_hg_allocator_alloc): add ret argument to
	be able to set the real address.
	(_hg_allocator_alloc): don't unlock the object.
	(_hg_allocator_lock_internal_object): new to get
	the hg_allocator_block_t object.

	* hieroglyph/hgtypes.h: extend hg_quark_t to 64bit.

	* hieroglyph/hgmem.c (hg_mem_lock_object, hg_mem_unlock_object):
	add missing functions.

	* hieroglyph/hgerror.h (hg_stacktrace): Output to the glib log
	instead of stderr directly.

	* hieroglyph/hgallocator.c (_hg_allocator_bitmap_alloc): Fix a typo.
	(_hg_allocator_bitmap_free): Fix a typo.
	(_hg_allocator_alloc): Fix a typo.

2010-05-23  Akira TAGOH  <akira@tagoh.org>

	* hieroglyph/hgallocator.c: Drop hg_mem_t dependencies.

	* hieroglyph/hgallocator-private.h: new.

	* hieroglyph/Makefile.am (LIBS): Add missing library.

	* Makefile.am (SUBDIRS): Add tests.

2010-05-21  Akira TAGOH  <akira@tagoh.org>

	* hgallocator.[ch]: Revised.

	* hgerror.[ch]: Revised.

	* hgmacros.h: Revised.

	* hgmem-private.h: Revised.

	* hgmem.[ch]: Revised.

	* hgtypes.h: Revised.

	* hgutils.[ch]: Revised.


